<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <!-- Place favicon.ico in the root directory -->

        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">
        <script src="js/vendor/modernizr-2.8.3.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <!-- Add your site or application content here -->
        <div class="question">
            <div class="questionText">
                <p></p>
            </div>
            <div class="questionRadios">
                <form class="radioList">
                    <!--<input type="radio">Yo mama<br>
                    <input type="radio">WUT<br>-->
                </form>
            </div>
            <div class="buttons">
                <button class="next">Next</button>
            </div>
        </div>

        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-{{JQUERY_VERSION}}.min.js"><\/script>')</script>
        <script src="js/plugins.js"></script>
        <script src="js/main.js"></script>

        <script>
            $(document).ready(function(){
                // Only one question is in this array, but you will add all the questions.
                var allQuestions = [
                    {question: "Who is Prime Minister of the United Kingdom?",
                        choices: ["David Cameron", "Gordon Brown", "Winston Churchill", "Tony Blair"],
                        correctAnswer: 0},
                    {question: "Who does #2 work for?", choices: ["Mr. Pizza", "Dr. Evil", "Your Mom"],
                        correctAnswer: 1}
                ];

                //globals variables
                var questionNumber = 0;
                var nextQuestion = true;
                var totalCorrect = 0;

                //load Question function, used to load question text
                var loadQuestion = function(questionNumber){
                    var el = $('p');
                    el.empty();
                    if(allQuestions.length == questionNumber){
                        var resultText = "You got " + totalCorrect + " questions correct out of " +
                                questionNumber + "!";
                        el.append(resultText);
                        $('.next').hide();
                    }
                    while(questionNumber < allQuestions.length && nextQuestion == true){
                        var question = allQuestions[questionNumber].question;
                        el.append(question);
                        questionNumber++;
                        nextQuestion = false;

                    }
                }

                //radioList function used to populate radio button list
                var radioList = function(questionNumber){
                    var list = $('.radioList');
                    list.empty();
                    for(var i = 0; i < allQuestions[questionNumber].choices.length; i++){
                        var text = allQuestions[questionNumber].choices[i];
                        list.append($('<input type="radio" name="radioChoices" value="' + i + '">' +
                            text + '</input><br />'));

                    }
                }


                //jQuery button event that fires off our functions
                $('.buttons').on('click', 'button', function(e){
                    e.preventDefault();
                    var checkedAnswer = $('.radioList input:radio:checked').val();
                    if(allQuestions[questionNumber].correctAnswer == checkedAnswer){
                        totalCorrect++;
                    }
                    nextQuestion = true;
                    questionNumber++;
                    loadQuestion(questionNumber);
                    radioList(questionNumber);
                });

                loadQuestion(questionNumber);
                radioList(questionNumber);
                /*for(var i = 0; i<allQuestions.length; i++){
                 var question = allQuestions[i].question;
                 console.log(question);
                 $('.question').find('p').empty().append(question);

                 }*/

            })

        </script>
    </body>
</html>
